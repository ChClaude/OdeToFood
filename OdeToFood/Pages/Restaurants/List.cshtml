@page

@model OdeToFood.Pages.Restaurants.ListModel
@{
    ViewData["Title"] = "List";
}

<h1>Restaurants</h1>

<form method="get">
    <div class="form-group">
        <div class="form-row">
            <div class="col-10">
                <!-- In the following input, we're taking advantage of model binding and bind the value of the input 
                        to the value of SearchTerm in the controller. we're doing by the help of the tag helper asp-for
                    -->
                <input type="search" class="form-control" asp-for="SearchTerm" />
            </div>
            <div class="col-auto">
                <span class="input-group-btn">
                    <button class="btn btn-outline-primary">
                        <i class="fas fa-search"></i>
                    </button>
                </span>
            </div>
        </div>
    </div>
</form>

<table class="table">
    @foreach (var restaurant in Model.Restaurants)
    {
    <tr>
        <td>@restaurant.Name</td>
        <td>@restaurant.Location</td>
        <td>@restaurant.Cuisine</td>
        <td>
            <a asp-page="./Detail"
               asp-route-restaurantId="@restaurant.Id"
               class="btn btn-primary">
                Details
            </a>
        </td>
        <td>
            <a asp-page="./Edit"
               asp-route-restaurantId="@restaurant.Id"
               class="btn btn-secondary">
                Edit
            </a>
        </td>
    </tr>
    }
</table>

<a asp-page="./Edit" class="btn btn-primary">Add New</a>
<div>@Model.Message</div>